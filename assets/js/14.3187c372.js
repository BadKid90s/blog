(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{520:function(t,a,s){t.exports=s.p+"assets/img/img_1.f9325c31.png"},631:function(t,a,s){t.exports=s.p+"assets/img/img_0.1f5543ca.png"},632:function(t,a,s){t.exports=s.p+"assets/img/img_2.4ab577f6.png"},633:function(t,a,s){t.exports=s.p+"assets/img/img_3.1970e38b.png"},634:function(t,a,s){t.exports=s.p+"assets/img/img_4.3a265174.png"},788:function(t,a,s){"use strict";s.r(a);var n=s(5),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("本案例使用"),n("code",[t._v("docker-compose")]),t._v("进行安装，如需安装"),n("code",[t._v("docker")]),t._v("环境，参考一下文章。")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.yuque.com/yangleduo-cg2ct/fgrxr9",target:"_blank",rel:"noopener noreferrer"}},[t._v("Docker环境安装"),n("OutboundLink")],1)])]),t._v(" "),n("h1",{attrs:{id:"gitlab-ce"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-ce"}},[t._v("#")]),t._v(" GitLab-ce")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://docs.gitlab.cn/ee/install/docker.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方安装教程推荐"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"编写docker-compose"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编写docker-compose"}},[t._v("#")]),t._v(" 编写docker-compose")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitlab-ce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gitlab/gitlab-ce:latest'")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gitlab-ce'")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("privileged")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gitlab'")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("TZ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Asia/Shanghai'")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("GITLAB_OMNIBUS_CONFIG")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n       external_url 'http://120.76.142.218'\n       gitlab_rails['time_zone'] = 'Asia/Shanghai'\n       gitlab_rails['smtp_enable'] = true\n       gitlab_rails['gitlab_shell_ssh_port'] = 1022")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'80:80'")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'443:443'")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1022:22'")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/gitlab\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/opt/gitlab\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./logs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/log/gitlab\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shm_size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'256m'")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br")])]),n("h2",{attrs:{id:"使用指定版本的gitlab"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用指定版本的gitlab"}},[t._v("#")]),t._v(" 使用指定版本的GitLab")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://hub.docker.com/r/gitlab/gitlab-ce/tags",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitLab-ce历史版本"),n("OutboundLink")],1),t._v("\n要使用特定的标记版本，请将 gitlab/gitlab-ce:latest 替换为您要运行的GitLab 版本。\n例如: gitlab/gitlab-ce:15.6.0-ce.0")]),t._v(" "),n("h2",{attrs:{id:"启动"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[t._v("#")]),t._v(" 启动")]),t._v(" "),n("p",[t._v("进入"),n("code",[t._v("docker-compose.yml")]),t._v("文件的目录下。执行启动命令")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[t._v("docker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("compose up "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("d\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("h2",{attrs:{id:"查看日志"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看日志"}},[t._v("#")]),t._v(" 查看日志")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[t._v("docker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("componse logs "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("f\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("h2",{attrs:{id:"访问"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#访问"}},[t._v("#")]),t._v(" 访问")]),t._v(" "),n("p",[n("img",{attrs:{src:s(631),alt:"image.png"}})]),t._v(" "),n("h2",{attrs:{id:"查询密码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查询密码"}},[t._v("#")]),t._v(" 查询密码")]),t._v(" "),n("h3",{attrs:{id:"方式一"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方式一"}},[t._v("#")]),t._v(" 方式一")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[t._v("docker exec "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("it $(docker ps "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" grep gitlab "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),t._v(" awk '"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("print $1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("') grep 'Password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("' /etc/gitlab/initial_root_password\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("h3",{attrs:{id:"方式二"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#方式二"}},[t._v("#")]),t._v(" 方式二")]),t._v(" "),n("p",[t._v("进入挂在配置文件的目录找到"),n("code",[t._v("initial_root_password")]),t._v("文件")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[t._v("grep 'Password"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("' ./initial_root_password\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("h2",{attrs:{id:"登录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#登录"}},[t._v("#")]),t._v(" 登录")]),t._v(" "),n("p",[t._v("使用用户名："),n("code",[t._v("root")]),t._v(" ，和查询到的密码进行登录。")]),t._v(" "),n("h2",{attrs:{id:"修改密码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改密码"}},[t._v("#")]),t._v(" 修改密码")]),t._v(" "),n("p",[t._v("登录后点击头像选择"),n("code",[t._v("Edit profile")]),t._v(" 进入信息编辑界面，选择左侧的"),n("code",[t._v("Password")]),t._v("页面修改密码。\n"),n("img",{attrs:{src:s(520),alt:"image.png"}})]),t._v(" "),n("h1",{attrs:{id:"gitlab-runner"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gitlab-runner"}},[t._v("#")]),t._v(" GitLab-runner")]),t._v(" "),n("h2",{attrs:{id:"介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://docs.gitlab.cn/runner/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方介绍"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#文档"}},[t._v("#")]),t._v(" 文档")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://docs.gitlab.cn/runner/install/docker.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方安装runner教程"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://docs.gitlab.cn/runner/register/index.html#docker",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方注册runner教程"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://docs.gitlab.cn/runner/configuration/advanced-configuration.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方配置runner教程"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://docs.gitlab.cn/ee/ci/yaml/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方.gitlab-ci.yml说明"),n("OutboundLink")],1)])]),t._v(" "),n("h2",{attrs:{id:"编写docker-compose-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编写docker-compose-2"}},[t._v("#")]),t._v(" 编写docker-compose")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitlab-ce")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gitlab/gitlab-ce'")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gitlab-ce'")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("privileged")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'gitlab'")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("TZ")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Asia/Shanghai'")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("GITLAB_OMNIBUS_CONFIG")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token scalar string"}},[t._v("\n       external_url 'http://120.76.142.218'\n       gitlab_rails['time_zone'] = 'Asia/Shanghai'\n       gitlab_rails['smtp_enable'] = true\n       gitlab_rails['gitlab_shell_ssh_port'] = 1022")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'80:80'")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'443:443'")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1022:22'")]),t._v("\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/gitlab\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/opt/gitlab\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./logs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/log/gitlab\n   "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("shm_size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'256m'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitlab-runner")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gitlab/gitlab"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gitlab"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("restart")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" always\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ulimits")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("memlock")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("soft")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("-1")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hard")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("-1")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./gitlab"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("conf/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/etc/gitlab"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner/\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /var/run/docker.sock"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/run/docker.sock \n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br")])]),n("h2",{attrs:{id:"使用指定版本的gitlab-runner"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用指定版本的gitlab-runner"}},[t._v("#")]),t._v(" 使用指定版本的GitLab-runner")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://hub.docker.com/r/gitlab/gitlab-runner/tags",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitLab-runner历史版本"),n("OutboundLink")],1),t._v("\n要使用特定的标记版本，请将 gitlab/gitlab-runner:latest 替换为您要运行的GitLab-runner 版本。\n例如: gitlab/gitlab-latest:v15.6.0")]),t._v(" "),n("h2",{attrs:{id:"执行注册runner到gitlab"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#执行注册runner到gitlab"}},[t._v("#")]),t._v(" 执行注册runner到gitlab")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://docs.gitlab.cn/15.5/runner/register/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方注册文档"),n("OutboundLink")],1),t._v("\n这里我们使用最常见的选项，使用单行命令注册 Runner")]),t._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[t._v("docker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("compose exec <compose"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("service"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" gitlab"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("runner register \\\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("non"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("interactive \\\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('executor "docker" \\\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docker"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("image alpine"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("latest \\\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('url "<url'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v('" \\\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("registration"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('token "<token'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v('" \\\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('description "docker'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('runner" \\\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("maintenance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('note "Free'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('form maintainer notes about this runner" \\\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("tag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('list "docker'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deploy"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v('server" \\\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("run"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('untagged="true" \\\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('locked="false" \\\n'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("access"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v('level="not_protected"\n')])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("h2",{attrs:{id:"查询token"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查询token"}},[t._v("#")]),t._v(" 查询token")]),t._v(" "),n("p",[n("img",{attrs:{src:s(520),alt:"image.png"}}),t._v(" "),n("img",{attrs:{src:s(632),alt:"image.png"}})]),t._v(" "),n("h2",{attrs:{id:"注册"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注册"}},[t._v("#")]),t._v(" 注册")]),t._v(" "),n("p",[n("img",{attrs:{src:s(633),alt:"image.png"}})]),t._v(" "),n("h2",{attrs:{id:"查看注册结果"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#查看注册结果"}},[t._v("#")]),t._v(" 查看注册结果")]),t._v(" "),n("p",[n("img",{attrs:{src:s(634),alt:"image.png"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);