(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{635:function(a,s,t){a.exports=t.p+"assets/img/image-20200820213620752.c68d1db2.png"},636:function(a,s,t){a.exports=t.p+"assets/img/image-20200820224123902.c796fe02.png"},637:function(a,s,t){a.exports=t.p+"assets/img/image-20200822090658863.655cd36d.png"},638:function(a,s,t){a.exports=t.p+"assets/img/image-20200822090905199.c39a4a52.png"},639:function(a,s,t){a.exports=t.p+"assets/img/image-20200822091216510.07dc7e5f.png"},640:function(a,s,t){a.exports=t.p+"assets/img/image-20200822091335115.7ec4c086.png"},641:function(a,s,t){a.exports=t.p+"assets/img/image-20200822091809558.c25dc91b.png"},642:function(a,s,t){a.exports=t.p+"assets/img/image-20200822092048172.e813e4d2.png"},643:function(a,s,t){a.exports=t.p+"assets/img/image-20200822093255847.a9f37873.png"},644:function(a,s,t){a.exports=t.p+"assets/img/image-20200822094801817.265644f9.png"},645:function(a,s,t){a.exports=t.p+"assets/img/image-20200822100056038.54ef1a32.png"},646:function(a,s,t){a.exports=t.p+"assets/img/image-20200822102024933.0ffc5716.png"},647:function(a,s){a.exports="data:image/png;base64,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"},648:function(a,s,t){a.exports=t.p+"assets/img/image-20200822111645219.e3602e19.png"},649:function(a,s,t){a.exports=t.p+"assets/img/image-20200822140954237.1d4270a6.png"},650:function(a,s,t){a.exports=t.p+"assets/img/image-20200822141013068.99133577.png"},651:function(a,s,t){a.exports=t.p+"assets/img/image-20200822141028970.949ed40e.png"},652:function(a,s,t){a.exports=t.p+"assets/img/image-20200823180537869.bb9a61a8.png"},653:function(a,s,t){a.exports=t.p+"assets/img/image-20200829223326519.781b34fd.png"},789:function(a,s,t){"use strict";t.r(s);var e=t(5),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"hadoop是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hadoop是什么"}},[a._v("#")]),a._v(" Hadoop是什么")]),a._v(" "),e("ol",[e("li",[a._v("hadoop是一个Aoache基金会所开发的分布式系统基础架构 。")]),a._v(" "),e("li",[a._v("主要解决，海量数据的存储和海量数据的分析计算问题。")]),a._v(" "),e("li",[a._v("广义上来说，Hadoop通常是指一个更广泛的概念——Hadoop生态圈。")])]),a._v(" "),e("h2",{attrs:{id:"hadoop发展史"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hadoop发展史"}},[a._v("#")]),a._v(" Hadoop发展史")]),a._v(" "),e("h3",{attrs:{id:"lucene"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lucene"}},[a._v("#")]),a._v(" Lucene")]),a._v(" "),e("h3",{attrs:{id:"论文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#论文"}},[a._v("#")]),a._v(" 论文")]),a._v(" "),e("h4",{attrs:{id:"gfs-hdfs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#gfs-hdfs"}},[a._v("#")]),a._v(" GFS--\x3eHDFS")]),a._v(" "),e("h4",{attrs:{id:"map-reduce-mr"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#map-reduce-mr"}},[a._v("#")]),a._v(" Map-Reduce--\x3eMR")]),a._v(" "),e("h4",{attrs:{id:"bigtable-hbase"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bigtable-hbase"}},[a._v("#")]),a._v(" BigTable--\x3eHBase")]),a._v(" "),e("h2",{attrs:{id:"hadoop三大发行版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hadoop三大发行版本"}},[a._v("#")]),a._v(" Hadoop三大发行版本")]),a._v(" "),e("h3",{attrs:{id:"apache"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#apache"}},[a._v("#")]),a._v(" Apache")]),a._v(" "),e("p",[a._v("最原始，最基本的版本，对于入门学习较好")]),a._v(" "),e("h3",{attrs:{id:"cloudera"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cloudera"}},[a._v("#")]),a._v(" Cloudera")]),a._v(" "),e("p",[a._v("在大型互联网企业中用的较多")]),a._v(" "),e("h3",{attrs:{id:"hortonworks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hortonworks"}},[a._v("#")]),a._v(" Hortonworks")]),a._v(" "),e("p",[a._v("文档较好")]),a._v(" "),e("h2",{attrs:{id:"hadoop的优势-4高"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hadoop的优势-4高"}},[a._v("#")]),a._v(" Hadoop的优势（4高）")]),a._v(" "),e("ol",[e("li",[a._v("高可靠：Hadoop底层维护了多个数据副本，所以即使Hadoop某个计算或存储出现故障，也不会导致数据丢失。")]),a._v(" "),e("li",[a._v("高扩展性：在集群建分配任务数据，可方便的扩展数以千计的节点。")]),a._v(" "),e("li",[a._v("高效性：在Mao-Reduce 的思想下，Hadoop是并行工作的，以加快任务处理速度。")]),a._v(" "),e("li",[a._v("高容错性：能够自动将失败的任务重新分配。")])]),a._v(" "),e("h2",{attrs:{id:"hadoop组成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hadoop组成"}},[a._v("#")]),a._v(" Hadoop组成")]),a._v(" "),e("h3",{attrs:{id:"_1-x-与2-x"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-x-与2-x"}},[a._v("#")]),a._v(" 1.x 与2.x")]),a._v(" "),e("p",[e("img",{attrs:{src:t(635),alt:"image-20200820213620752"}})]),a._v(" "),e("h3",{attrs:{id:"hdfs架构概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hdfs架构概念"}},[a._v("#")]),a._v(" HDFS架构概念")]),a._v(" "),e("h4",{attrs:{id:"_1-namenode-nn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-namenode-nn"}},[a._v("#")]),a._v(" 1.NameNode (nn)")]),a._v(" "),e("p",[a._v("存储额文件的元数据，如文件名，文件目录结构，文件属性（生成时间，副本数，文件权限），以及每个文件的块列表和块所在的DataNode 等。")]),a._v(" "),e("h4",{attrs:{id:"_2-datanode-dn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-datanode-dn"}},[a._v("#")]),a._v(" 2.DataNode (dn)")]),a._v(" "),e("p",[a._v("在本地文件系统存储文件块数据，以及块数据的校验和。")]),a._v(" "),e("h4",{attrs:{id:"_3-secondary-namenode-2nn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-secondary-namenode-2nn"}},[a._v("#")]),a._v(" 3.Secondary NameNode (2nn)")]),a._v(" "),e("p",[a._v("用来监控HDFS状态的辅助后台程序，每隔一段时间获取HDFS元数据的快照。")]),a._v(" "),e("h3",{attrs:{id:"yarn-架构概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yarn-架构概念"}},[a._v("#")]),a._v(" YARN 架构概念")]),a._v(" "),e("h4",{attrs:{id:"resourcemanage-rm-主要作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resourcemanage-rm-主要作用"}},[a._v("#")]),a._v(" ResourceManage(RM)主要作用")]),a._v(" "),e("ul",[e("li",[a._v("处理客户请求")]),a._v(" "),e("li",[a._v("监控NodeManage")]),a._v(" "),e("li",[a._v("启动或监控ApplicationMaster")]),a._v(" "),e("li",[a._v("资源的调度与分配")])]),a._v(" "),e("h4",{attrs:{id:"nodemanage-nm-主要作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nodemanage-nm-主要作用"}},[a._v("#")]),a._v(" NodeManage(NM)主要作用")]),a._v(" "),e("ul",[e("li",[a._v("管理单个节点上的资源")]),a._v(" "),e("li",[a._v("处理来自ResourceManage的命令")]),a._v(" "),e("li",[a._v("处理来自ApplicationMaster的命令")])]),a._v(" "),e("h4",{attrs:{id:"applicationmaster-am-主要作用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#applicationmaster-am-主要作用"}},[a._v("#")]),a._v(" ApplicationMaster(AM)主要作用")]),a._v(" "),e("ul",[e("li",[a._v("负责数据的切分")]),a._v(" "),e("li",[a._v("为应用程序申请资源并分配给内部的任务")]),a._v(" "),e("li",[a._v("任务的监控与容错")])]),a._v(" "),e("h4",{attrs:{id:"container"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#container"}},[a._v("#")]),a._v(" Container")]),a._v(" "),e("ul",[e("li",[a._v("Container是YARN中的资源抽象，他封装了某个节点上的多维资源，如内存，CPU,磁盘，网络等。")])]),a._v(" "),e("h3",{attrs:{id:"mapreduce架构概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mapreduce架构概述"}},[a._v("#")]),a._v(" MapReduce架构概述")]),a._v(" "),e("p",[a._v("MapReduce 将计算过程分为两个阶段：map 和 Reduce")]),a._v(" "),e("ol",[e("li",[a._v("Map 阶段并行处理输入数据")]),a._v(" "),e("li",[a._v("Reduce阶段对Map结果进行汇总")])]),a._v(" "),e("h2",{attrs:{id:"大数据计数生态体系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#大数据计数生态体系"}},[a._v("#")]),a._v(" 大数据计数生态体系")]),a._v(" "),e("p",[e("img",{attrs:{src:t(636),alt:"image-20200820224123902"}})]),a._v(" "),e("h2",{attrs:{id:"环境搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[a._v("#")]),a._v(" 环境搭建")]),a._v(" "),e("h3",{attrs:{id:"_1-准备虚拟机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-准备虚拟机"}},[a._v("#")]),a._v(" 1.准备虚拟机")]),a._v(" "),e("h3",{attrs:{id:"_2-安装jdk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装jdk"}},[a._v("#")]),a._v(" 2.安装JDK")]),a._v(" "),e("h3",{attrs:{id:"_3-安装hadoop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装hadoop"}},[a._v("#")]),a._v(" 3.安装Hadoop")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("解压")])]),a._v(" "),e("li",[e("p",[a._v("配置环境变量")]),a._v(" "),e("p",[a._v("在 "),e("code",[a._v("/etc/profile")]),a._v("文件的最后加")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HADOOP_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/hadoop-3.2.1\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HADOOP_HOME")]),a._v("/bin\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HADOOP_HOME")]),a._v("/sbin\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("p",[a._v("使用配置生效")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /ect/profile\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])]),a._v(" "),e("h3",{attrs:{id:"_4-hadoop目录结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-hadoop目录结构"}},[a._v("#")]),a._v(" 4.Hadoop目录结构")]),a._v(" "),e("ul",[e("li",[e("p",[e("strong",[a._v("bin")])]),a._v(" "),e("p",[a._v("存放对Hadoop相关服务（HDFS,YARN）进行操作的脚本")])]),a._v(" "),e("li",[e("p",[e("strong",[a._v("etc")])]),a._v(" "),e("p",[a._v("Hadoop的配置文件目录")])]),a._v(" "),e("li",[e("p",[e("strong",[a._v("lib")])]),a._v(" "),e("p",[a._v("存放Hadoop的本地库（对数据进行压缩解压的功能）")])]),a._v(" "),e("li",[e("p",[e("strong",[a._v("sbin")])]),a._v(" "),e("p",[a._v("存放启动或停止Hadoop相关服务的脚本")])]),a._v(" "),e("li",[e("p",[e("strong",[a._v("share")])]),a._v(" "),e("p",[a._v("存放Hadoop的依赖jar包，文档，和官方案例。")])])]),a._v(" "),e("h3",{attrs:{id:"_5-hadoop官网手册"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-hadoop官网手册"}},[a._v("#")]),a._v(" 5.Hadoop官网手册")]),a._v(" "),e("p",[a._v("Hadoop官方网站：https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html")]),a._v(" "),e("h2",{attrs:{id:"hadoop运行模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#hadoop运行模式"}},[a._v("#")]),a._v(" Hadoop运行模式")]),a._v(" "),e("p",[a._v("Hadoop运行模式包括：")]),a._v(" "),e("p",[a._v("本地模式、伪分布式模式以及完全分布式模式。")]),a._v(" "),e("h3",{attrs:{id:"本地运行模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本地运行模式"}},[a._v("#")]),a._v(" 本地运行模式")]),a._v(" "),e("h4",{attrs:{id:"官方grep案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#官方grep案例"}},[a._v("#")]),a._v(" 官方Grep案例")]),a._v(" "),e("p",[a._v("1.创建在hadoop-3.2.1文件下面创建一个input文件夹")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" input\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("2.将Hadoop的xml配置文件复制到input")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v("  etc/hadoop/*.xml  input\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("3.执行share目录下的MapReduce程序")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hadoop\tjar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" input  output  "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'dfs[a-z.]+'")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("4.查看输出结果")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v("  output/*\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h4",{attrs:{id:"官方wordcount案例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#官方wordcount案例"}},[a._v("#")]),a._v(" 官方WordCount案例")]),a._v(" "),e("p",[a._v("1.创建在hadoop-3.2.1文件下面创建一个wcinput文件夹")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" wcinput\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("2.在wcinput文件下创建一个wc.input文件")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" wcinput\n\n$ touchwc.input\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("p",[a._v("3.编辑wc.input文件")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v("  wc.input\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("在文件中输入如下内容")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("hadoopyarn\nhadoopmapreduce\natguigu\natguigu\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("p",[a._v("保存退出：：wq")]),a._v(" "),e("p",[a._v("4.回到Hadoop目录")]),a._v(" "),e("p",[a._v("5.执行程序")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar wordcount wcinput wcoutput\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("6.查看结果")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" wcoutput /part-r-00000\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("atguigu2\nhadoop2\nmapreduce1\nyarn1\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("h3",{attrs:{id:"伪分布式运行模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#伪分布式运行模式"}},[a._v("#")]),a._v(" 伪分布式运行模式")]),a._v(" "),e("h4",{attrs:{id:"启动hdfs并运行mapreduce程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动hdfs并运行mapreduce程序"}},[a._v("#")]),a._v(" 启动HDFS并运行MapReduce程序")]),a._v(" "),e("h5",{attrs:{id:"_1-分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-分析"}},[a._v("#")]),a._v(" 1.分析")]),a._v(" "),e("p",[a._v("（1）配置集群\n（2）启动、测试集群增、删、查\n（3）执行WordCount案例")]),a._v(" "),e("h5",{attrs:{id:"_2-执行步骤"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-执行步骤"}},[a._v("#")]),a._v(" 2.执行步骤")]),a._v(" "),e("h6",{attrs:{id:"_1-配置集群"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置集群"}},[a._v("#")]),a._v(" （1）配置集群")]),a._v(" "),e("p",[a._v("进入Hadoop的etc目录")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ./etc\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[e("p",[a._v("配置：hadoop-env.sh")]),a._v(" "),e("p",[a._v("Linux系统中获取JDK的安装路径：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$JAVA_HOME")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("/usr/local/jdk1.8.0_121\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("修改JAVA_HOME路径：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/jdk1.8.0_121\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("配置：core-site.xml")]),a._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指定HDFS中NameNode的地址--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("fs.defaultFS"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hdfs://localhost:9000"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指定Hadoop运行时产生文件的存储目录--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hadoop.tmp.dir"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("/usr/local/hadoop-3.2.1/data/tmp"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("配置：hdfs-site.xml")]),a._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指定HDFS副本的数量--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.replication"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("1"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])])])]),a._v(" "),e("h6",{attrs:{id:"_2-设置无密码ssh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置无密码ssh"}},[a._v("#")]),a._v(" （2）设置无密码SSH")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("现在检查您是否可以在不使用密码的情况下SSH到本地主机：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v(" $ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("ssh")]),a._v("  localhost\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("如果没有密码就无法SSH到本地主机")])]),a._v(" "),e("li",[e("p",[a._v("请执行以下命令")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ ssh-keygen -t rsa -P"),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("''")]),a._v("-f〜/ .ssh / id_rsa \n$ cat〜/ .ssh / id_rsa.pub "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v("〜/ .ssh / authorized_keys \n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" 0600〜/ .ssh / authorized_keys\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])])])]),a._v(" "),e("h6",{attrs:{id:"_3-执行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-执行"}},[a._v("#")]),a._v(" （3）执行")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("格式化文件系统")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs namenode -format\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("启动NameNode守护程序和DataNode守护程序：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ ./sbin/start-dfs.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("启动报错")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("root@iZ2zednzb8iugz3kgudq9bZ hadoop-3.2.1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ./sbin/stop-dfs.sh")]),a._v("\nStopping namenodes on "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("localhost"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nERROR: Attempting to operate on hdfs namenode as root\nERROR: but there is no HDFS_NAMENODE_USER defined. Aborting operation.\nStopping datanodes\nERROR: Attempting to operate on hdfs datanode as root\nERROR: but there is no HDFS_DATANODE_USER defined. Aborting operation.\nStopping secondary namenodes "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("iZ2zednzb8iugz3kgudq9bZ"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nERROR: Attempting to operate on hdfs secondarynamenode as root\nERROR: but there is no HDFS_SECONDARYNAMENODE_USER defined. Aborting operation.\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br")])]),e("p",[a._v("添加以下配置到 "),e("code",[a._v("hadoop-env.sh")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HDFS_DATANODE_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root  \n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HDFS_NAMENODE_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root  \n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HDFS_SECONDARYNAMENODE_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root \n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("浏览Web界面以查找NameNode；默认情况下，它在以下位置可用：")]),a._v(" "),e("div",{staticClass:"language-http line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[a._v("http:")]),a._v("//localhost:9870/\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("设置执行MapReduce作业所需的HDFS目录：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs dfs -mkdir /user/root\n$ bin/hdfs dfs -mkdir /user/"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("用户名"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("ul",[e("li",[a._v("创建多层目录")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs dfs -mkdir -p  /user/wry\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:t(637),alt:"image-20200822090658863"}})]),a._v(" "),e("ul",[e("li",[a._v("查看多级目录")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs dfs -ls -R /\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:t(638),alt:"image-20200822090905199"}})])]),a._v(" "),e("li",[e("p",[a._v("将本地输入文件复制到分布式文件系统中：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs dfs -mkdir -p /user/wry/input\n$ bin/hdfs dfs -put etc/hadoop/*.xml /user/wry/input\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[e("img",{attrs:{src:t(639),alt:"image-20200822091216510"}})]),a._v(" "),e("p",[e("img",{attrs:{src:t(640),alt:"image-20200822091335115"}})])]),a._v(" "),e("li",[e("p",[a._v("运行提供的一些示例：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" /user/wry/input /user/wry/output "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'dfs[a-z.]+'")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:t(641),alt:"image-20200822091809558"}})]),a._v(" "),e("ul",[e("li",[e("p",[a._v("查看文件")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs dfs -ls -r /user/wry/output\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("查看分布式文件系统上的输出文件：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs dfs -cat /user/wry/output/"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("文件名"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:t(642),alt:"image-20200822092048172"}})]),a._v(" "),e("p",[a._v("or")])]),a._v(" "),e("li",[e("p",[a._v("检查输出文件：将输出文件从分布式文件系统复制到本地文件系统并检查它们：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs dfs -get /user/wry/output /usr/local/wryoutput \n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /usr/local/wryoutput/*\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[e("img",{attrs:{src:t(643),alt:"image-20200822093255847"}})])])])]),a._v(" "),e("li",[e("p",[a._v("完成后，使用以下命令停止守护进程：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/stop-dfs.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])]),a._v(" "),e("blockquote",[e("p",[e("strong",[a._v("格式化NameNode 时要注意")])]),a._v(" "),e("p",[a._v("1.先停止进程")]),a._v(" "),e("p",[a._v("2.删除data 、log文件")]),a._v(" "),e("p",[a._v("3.执行格式化命令")])]),a._v(" "),e("blockquote",[e("p",[e("strong",[a._v("为什么不能一直 格式化NameNode")])]),a._v(" "),e("p",[a._v("格式化NameNode，会产生新的集群Id,导致NameNode和DataNode的集群Id不一致，集群找不到以往的数据，所以，，格式化NameNode时，一定要先删除data数据和log日志，然后再格式化NameNode。")])]),a._v(" "),e("p",[e("img",{attrs:{src:t(644),alt:"image-20200822094801817"}})]),a._v(" "),e("h4",{attrs:{id:"启动yarn并运行mapreduce程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动yarn并运行mapreduce程序"}},[a._v("#")]),a._v(" 启动YARN并运行MapReduce程序")]),a._v(" "),e("h5",{attrs:{id:"_1-分析-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-分析-2"}},[a._v("#")]),a._v(" 1.分析")]),a._v(" "),e("p",[a._v("（1）配置集群在YARN上运行MR\n（2）启动、测试集群增、删、查\n（3）在YARN上执行WordCount案例")]),a._v(" "),e("h5",{attrs:{id:"_2-执行步骤-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-执行步骤-2"}},[a._v("#")]),a._v(" 2.执行步骤")]),a._v(" "),e("h6",{attrs:{id:"_1-配置集群-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置集群-2"}},[a._v("#")]),a._v(" （1）配置集群")]),a._v(" "),e("p",[a._v("配置"),e("code",[a._v("etc/hadoop/mapred-site.xml")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("configuration")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--用于指定执行MapReduce作业的运行时框架。可以是local、classic 或yarn之一 --\x3e")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  \t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.framework.name"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!-- MR应用程序的类路径 --\x3e")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.application.classpath"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*:$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("configuration")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br")])]),e("p",[a._v("配置"),e("code",[a._v("etc/hadoop/yarn-site.xml")]),a._v(":")]),a._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("configuration")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指Reduce 获取数据的方式--\x3e")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.nodemanager.aux-services"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce_shuffle"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--yarn运行的环境--\x3e")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.nodemanager.env-whitelist"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" \t\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    \n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指定YARN的ResourceManager的地址--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.resourcemanager.hostname"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("0.0.0.0"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("configuration")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br")])]),e("p",[a._v("启动")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/start-yarn.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("启动报错")]),a._v(" "),e("p",[e("img",{attrs:{src:t(645),alt:"image-20200822100056038"}})]),a._v(" "),e("p",[a._v("配置"),e("code",[a._v("etc/hadoop/hadoop-env.sh")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("YARN_RESOURCEMANAGER_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("YARN_NODEMANAGER_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[e("img",{attrs:{src:t(646),alt:"image-20200822102024933"}})]),a._v(" "),e("p",[e("img",{attrs:{src:t(647),alt:"image-20200822102108817"}})]),a._v(" "),e("p",[a._v("浏览ResourceManager的web界面；默认情况下，它位于：")]),a._v(" "),e("p",[a._v("ResourceManager - "),e("code",[a._v("http://localhost:8088/")])]),a._v(" "),e("p",[e("img",{attrs:{src:t(648),alt:"image-20200822111645219"}})]),a._v(" "),e("p",[a._v("运行一个job")]),a._v(" "),e("ul",[e("li",[a._v("拷贝文件到hadoop 目录")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs dfs -put wcinput/wc.input  /user/wry/wcinput\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[a._v("运行")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar wordcount /user/wry/wcinput /user/wry/wcoutput\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[a._v("查看")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hadoop dfs -ls -r /user/wry/wcoutput\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h4",{attrs:{id:"配置历史服务器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置历史服务器"}},[a._v("#")]),a._v(" 配置历史服务器")]),a._v(" "),e("p",[a._v("为了查看程序的历史运行情况，需要配置一下历史服务器。具体配置步骤如下：")]),a._v(" "),e("ul",[e("li",[a._v("配置"),e("code",[a._v("etc/hadoop/mapred-site.xml")])])]),a._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--历史服务器端地址--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.jobhistory.address"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("0.0.0.0:10020"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--历史服务器web端地址--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.jobhistory.webapp.address"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("0.0.0.0:19888"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br")])]),e("ul",[e("li",[e("p",[a._v("启动历史服务器")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/mr-jobhistory-daemon.sh starthistoryserver\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("查看历史服务器是否启动")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ jps\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("查看JobHistory")]),a._v(" "),e("p",[a._v("JobHistory -   http://hadoop101:19888/jobhistory")])])]),a._v(" "),e("h4",{attrs:{id:"配置日志的聚集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置日志的聚集"}},[a._v("#")]),a._v(" 配置日志的聚集")]),a._v(" "),e("p",[a._v("日志聚集概念：应用运行完成以后，将程序运行日志信息上传到HDFS系统上。\n日志聚集功能好处：可以方便的查看到程序运行详情，方便开发调试。")]),a._v(" "),e("p",[a._v("注意：开启日志聚集功能，需要重新启动NodeManager、ResourceManager和\nHistoryManager。")]),a._v(" "),e("p",[a._v("开启日志聚集功能具体步骤如下：")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("配置 "),e("code",[a._v("etc/hadoop/yarn-site.xml")])]),a._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--日志聚集功能使能--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.log-aggregation-enable"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("true"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--日志保留时间设置7天--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.log-aggregation.retain-seconds"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("604800"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("关闭NodeManager、ResourceManager和HistoryManager")]),a._v(" "),e("ul",[e("li",[a._v("关闭所有 包括 NodeManager、ResourceManager、Name Node、DataNode")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v(" $ sbin/stop-all.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[a._v("关闭  NodeManager、ResourceManager")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/stop-yarn.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[a._v("关闭  Name Node、DataNode")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/stop-dfs.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("ul",[e("li",[a._v("关闭  HistoryManager")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/mr-jobhistory-daemon.sh stop historyserver \n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("启动NodeManager、ResourceManager和HistoryManager")])]),a._v(" "),e("li",[e("p",[a._v("删除HDFS上已经存在的输出文件")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hadoop dfs -rm -f -r /user/wry/wcoutput\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("执行WordCount程序")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.2.1.jar wordcount /user/wry/wcinput /user/wry/wcoutput\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])]),a._v(" "),e("li",[e("p",[a._v("查看日志，如图所示")]),a._v(" "),e("p",[e("img",{attrs:{src:t(649),alt:"image-20200822140954237"}})]),a._v(" "),e("p",[e("img",{attrs:{src:t(650),alt:"image-20200822141013068"}})]),a._v(" "),e("p",[e("img",{attrs:{src:t(651),alt:"image-20200822141028970"}})])])]),a._v(" "),e("h4",{attrs:{id:"配置文件说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置文件说明"}},[a._v("#")]),a._v(" 配置文件说明")]),a._v(" "),e("p",[a._v("Hadoop配置文件分两类：默认配置文件和自定义配置文件，只有用户想修改某一默认\n配置值时，才需要修改自定义配置文件，更改相应属性值。")]),a._v(" "),e("h5",{attrs:{id:"_1-默认配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-默认配置文件"}},[a._v("#")]),a._v(" （1）默认配置文件：")]),a._v(" "),e("p",[a._v("要获取的默认文件文件存放在Hadoop的jar包中的位置")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[a._v("配置文件名称")]),a._v(" "),e("th",[a._v("默认配置所在的文件路径")])])]),a._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("core-default.xml")]),a._v(" "),e("td",[a._v("hadoop-common-2.7.2.jar/core-default.xml")])]),a._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("hdfs-default.xml")]),a._v(" "),e("td",[a._v("hadoop-hdfs-2.7.2.jar/hdfs-default.xml")])]),a._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("yarn-default.xml")]),a._v(" "),e("td",[a._v("hadoop-yarn-common-2.7.2.jar/yarn-default.xml")])]),a._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[a._v("mapred-default.xml")]),a._v(" "),e("td",[a._v("hadoop-mapreduce-client-core-2.7.2.jar/mapred-default.xml")])])])]),a._v(" "),e("h5",{attrs:{id:"_2-自定义配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-自定义配置文件"}},[a._v("#")]),a._v(" （2）自定义配置文件：")]),a._v(" "),e("p",[a._v("core-site.xml、hdfs-site.xml、yarn-site.xml、mapred-site.xml四个配置文件存放在\n$HADOOP_HOME/etc/hadoop这个路径上，用户可以根据项目需求重新进行修改配置。")]),a._v(" "),e("h3",{attrs:{id:"完全分布式运行模式-开发重点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#完全分布式运行模式-开发重点"}},[a._v("#")]),a._v(" 完全分布式运行模式（开发重点）")]),a._v(" "),e("h4",{attrs:{id:"分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[a._v("#")]),a._v(" 分析")]),a._v(" "),e("p",[a._v("1）准备3台客户机（关闭防火墙、静态ip、主机名称）\n2）安装JDK\n3）配置环境变量\n4）安装Hadoop\n5）配置环境变量\n6）配置集群\n7）单点启动\n8）配置ssh\n9）群起并测试集群")]),a._v(" "),e("h4",{attrs:{id:"虚拟机准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#虚拟机准备"}},[a._v("#")]),a._v(" 虚拟机准备")]),a._v(" "),e("h5",{attrs:{id:"_1-改ip地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-改ip地址"}},[a._v("#")]),a._v(" （1）改IP地址")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/sysconfig/network-scripts/ifcfg-ens33 \n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TYPE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Ethernet\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PROXY_METHOD")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("none\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("BROWSER_ONLY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("no\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("BOOTPROTO")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("static\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#改为static静态")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DEFROUTE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV4_FAILURE_FATAL")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("no\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV6INIT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV6_AUTOCONF")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV6_DEFROUTE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV6_FAILURE_FATAL")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("no\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV6_ADDR_GEN_MODE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stable-privacy\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NAME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("ens33\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("UUID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("67b4d72d-1ff5-4e3e-a089-e1579700eba8\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DEVICE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("ens33\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ONBOOT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes\t\t\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#改为yes")]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPADDR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.102  "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ip地址")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NETMASK")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("255.255")]),a._v(".255.0   "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#子网掩码")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GATEWAY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.1\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#网关")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DNS1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.8")]),a._v(".8.8\t\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#DNS")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DNS2")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("223.6")]),a._v(".6.6\n\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PREFIX")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("24")]),a._v("\n\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br")])]),e("h5",{attrs:{id:"_2-改主机名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-改主机名"}},[a._v("#")]),a._v(" （2）改主机名")]),a._v(" "),e("p",[a._v("不配置后期的数据节点可能会找不到。")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/hotos\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[a._v("127.0")]),a._v(".0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n::1         localhost localhost.localdomain localhost6 localhost6.localdomain6\n"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.102 hadoop102\n"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.103 hadoop103\n"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.104 hadoop104\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("h4",{attrs:{id:"编写集群分发脚本xsync"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编写集群分发脚本xsync"}},[a._v("#")]),a._v(" 编写集群分发脚本xsync")]),a._v(" "),e("h5",{attrs:{id:"_1-scp-securecopy-安全拷贝"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-scp-securecopy-安全拷贝"}},[a._v("#")]),a._v(" 1.scp（securecopy）安全拷贝")]),a._v(" "),e("h6",{attrs:{id:"_1-scp定义"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-scp定义"}},[a._v("#")]),a._v(" （1）scp定义：")]),a._v(" "),e("p",[e("code",[a._v("scp")]),a._v("可以实现服务器与服务器之间的数据拷贝。（fromserver1toserver2）")]),a._v(" "),e("h6",{attrs:{id:"_2-基本语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-基本语法"}},[a._v("#")]),a._v(" （2）基本语法")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v("\t\t-r  \t"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$pdir")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$fname")]),a._v("\t\t"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$user")]),a._v("@hadoop"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$host")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$pdir")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$fname")]),a._v("\n命令\t  递归\t 要拷贝的文件路径\t   名称目的用户@主机:目的路径/名称\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("h6",{attrs:{id:"_3-案例实操"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-案例实操"}},[a._v("#")]),a._v(" （3）案例实操")]),a._v(" "),e("p",[a._v("（a）在"),e("code",[a._v("192.168.100.101")]),a._v("上，将"),e("code",[a._v("192.168.100.101")]),a._v("中"),e("code",[a._v("/usr/local/software")]),a._v("目录下的软件拷贝到"),e("code",[a._v("192.168.100.102")]),a._v("上。")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v(" -r /usr/local/software/*  root@192.168.100.102:/usr/local/software\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("（b）在"),e("code",[a._v("192.168.100.103")]),a._v("上，将"),e("code",[a._v("192.168.100.101")]),a._v("服务器上的"),e("code",[a._v("/usr/local/software")]),a._v("目录下的软件拷贝到\n"),e("code",[a._v("192.168.100.103")]),a._v("上。")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v(" -r root@192.168.100.101:/usr/local/software/*  /usr/local/software/\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("（c）在"),e("code",[a._v("192.168.100.103")]),a._v("上操作将"),e("code",[a._v("192.168.100.101")]),a._v("中"),e("code",[a._v("/usr/local/software")]),a._v("目录下的软件拷贝到\n"),e("code",[a._v("192.168.100.104")]),a._v("上。")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v(" -r root@192.168.100.101:/usr/local/software/*  root@192.168.100.104:/usr/local/software/\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h5",{attrs:{id:"_2-rsync远程同步工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-rsync远程同步工具"}},[a._v("#")]),a._v(" 2.rsync远程同步工具")]),a._v(" "),e("p",[e("code",[a._v("rsync")]),a._v("主要用于备份和镜像。具有速度快、避免复制相同内容和支持符号链接的优点。")]),a._v(" "),e("p",[e("strong",[e("code",[a._v("rsync")]),a._v("和"),e("code",[a._v("scp")]),a._v("区别：")])]),a._v(" "),e("p",[a._v("用"),e("code",[a._v("rsync")]),a._v("做文件的复制要比"),e("code",[a._v("scp")]),a._v("的速度快，"),e("code",[a._v("rsync")]),a._v("只对差异文件做更新。"),e("code",[a._v("scp")]),a._v("是把所有文件都复制过去。")]),a._v(" "),e("h6",{attrs:{id:"_1-基本语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-基本语法"}},[a._v("#")]),a._v(" （1）基本语法")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rsync")]),a._v("\t-rvl\t\t"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$pdir")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$fname")]),a._v("\t\t\t"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$user")]),a._v("@hadoop"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$host")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$pdir")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$fname")]),a._v("\n命令\t  选项参数\t\t要拷贝的文件路径/名称\t\t目的用户@主机:目的路径/名称\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("选项参数说明")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("选项")]),a._v(" "),e("th",[a._v("功能")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("-r")]),a._v(" "),e("td",[a._v("递归")])]),a._v(" "),e("tr",[e("td",[a._v("-v")]),a._v(" "),e("td",[a._v("显示复制过程")])]),a._v(" "),e("tr",[e("td",[a._v("-l")]),a._v(" "),e("td",[a._v("拷贝符号连接")])])])]),a._v(" "),e("h6",{attrs:{id:"_2-案例实操"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-案例实操"}},[a._v("#")]),a._v(" （2）案例实操")]),a._v(" "),e("p",[a._v("（a）把"),e("code",[a._v("192.168.100.101")]),a._v("机器上的"),e("code",[a._v("/usr/local/software")]),a._v("目录同步到"),e("code",[a._v("192.168.100.102")]),a._v("服务器的root用户\n下的"),e("code",[a._v("/usr/local/software")]),a._v("目录")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rsync")]),a._v("  -rvl /usr/local/software/*  root@192.168.100.102:/usr/local/software/\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h5",{attrs:{id:"_3-xsync集群分发脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-xsync集群分发脚本"}},[a._v("#")]),a._v(" 3.xsync集群分发脚本")]),a._v(" "),e("h6",{attrs:{id:"_1-需求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-需求"}},[a._v("#")]),a._v(" （1）需求")]),a._v(" "),e("p",[a._v("循环复制文件到所有节点的相同目录下")]),a._v(" "),e("h6",{attrs:{id:"_2-需求分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-需求分析"}},[a._v("#")]),a._v(" （2）需求分析")]),a._v(" "),e("p",[a._v("（a）rsync命令原始拷贝：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rsync")]),a._v(" -rvl  /usr/local/program/*  root@192.168.100.103:/usr/local/program/\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("（b）期望脚本：\nxsync要同步的文件名称\n（c）说明：在"),e("code",[a._v("/home/<用户名>/bin")]),a._v("这个目录下存放的脚本，root用户可以在系统任何地方直接执行。")]),a._v(" "),e("h6",{attrs:{id:"_3-脚本实现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-脚本实现"}},[a._v("#")]),a._v(" （3）脚本实现")]),a._v(" "),e("p",[a._v("（a）在"),e("code",[a._v("/home/<用户名>/bin")]),a._v("目录下创建bin目录，并在bin目录下xsync创建文件，文件内容如下：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /home/"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("用户名"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" bin\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" bin\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" xsync\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[a._v("#!/bin/bash")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#1获取输入参数个数，如果没有参数，直接退出")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("pcount")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$#")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("((")]),a._v("pcount"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("==")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("))")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("then")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" noargs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exit")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("fi")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#2获取文件名称")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("p1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$1")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("fname")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("basename")]),a._v(" $p1"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v("  "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("fname")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$fname")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#3获取上级目录到绝对路径")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("pdir")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" -P "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("$(")]),a._v("dirname $p1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("pdir")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$pdir")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#4获取当前用户名称")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("user")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("whoami")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#5循环")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("for")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("((")]),a._v("host"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("103")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("host"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("105")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("host"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("++")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("))")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("do")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" -------------------192.168.100."),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$host")]),a._v("--------------\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("rsync")]),a._v(" -rvl "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$pdir")]),a._v("/"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$fname")]),a._v("  "),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$user")]),a._v("@192.168.100."),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$host")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$pdir")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("done")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br")])]),e("p",[a._v("（b）修改脚本xsync具有执行权限")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("777")]),a._v(" xsync\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("（c）调用脚本形式：xsync文件名称")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ xsync  /home/"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("用户名"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("/bin\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("blockquote",[e("p",[e("strong",[a._v("注意")]),a._v("：")]),a._v(" "),e("p",[a._v("如果将"),e("code",[a._v("xsync")]),a._v("放到"),e("code",[a._v("/home/<用户名>/bin")]),a._v("目录下仍然不能实现全局使用，")]),a._v(" "),e("p",[a._v("可以将"),e("code",[a._v("xsync")]),a._v("移动到"),e("code",[a._v("/usr/local/bin")]),a._v("目录下。")])]),a._v(" "),e("h4",{attrs:{id:"集群配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集群配置"}},[a._v("#")]),a._v(" 集群配置")]),a._v(" "),e("h5",{attrs:{id:"_1-集群部署规化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-集群部署规化"}},[a._v("#")]),a._v(" 1.集群部署规化")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th"),a._v(" "),e("th",{staticStyle:{"text-align":"left"}},[a._v("192.168.100.102 -hadoop102")]),a._v(" "),e("th",[a._v("192.168.100.103-hadoop103")]),a._v(" "),e("th",[a._v("192.168.100.104-hadoop104")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("HDFS")]),a._v(" "),e("td",{staticStyle:{"text-align":"left"}},[a._v("NameNode "),e("br"),a._v(" DataNode")]),a._v(" "),e("td",[e("br"),a._v("DataNode")]),a._v(" "),e("td",[a._v("SecondaryNameNode "),e("br"),a._v("DataNode")])]),a._v(" "),e("tr",[e("td",[a._v("YARN")]),a._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("br"),a._v("NodeManage")]),a._v(" "),e("td",[a._v("ResourceManage  "),e("br"),a._v("NodeManage")]),a._v(" "),e("td",[e("br"),a._v("NodeManage")])])])]),a._v(" "),e("p",[a._v("机器改IP")]),a._v(" "),e("h5",{attrs:{id:"_2-配置集群"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置集群"}},[a._v("#")]),a._v(" 2.配置集群")]),a._v(" "),e("h6",{attrs:{id:"_1-核心配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-核心配置文件"}},[a._v("#")]),a._v(" （1）核心配置文件")]),a._v(" "),e("p",[a._v("在"),e("code",[a._v("192.168.100.102")]),a._v(" 上")]),a._v(" "),e("p",[a._v("配置"),e("code",[a._v("etc/hadoop/core-site.xml")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /usr/local/program/hadoop3.2.1\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" etc/hadoop/core-site.xml\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("在该文件中编写如下配置")]),a._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指定HDFS中NameNode的地址--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("fs.defaultFS"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hdfs://192.168.100.102:9000"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指定Hadoop运行时产生文件的存储目录--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("hadoop.tmp.dir"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("/usr/local/program/hadoop-3.2.1/data/tmp/hadoop-${user.name}"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br")])]),e("h6",{attrs:{id:"_2-hdfs配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-hdfs配置文件"}},[a._v("#")]),a._v(" （2）HDFS配置文件")]),a._v(" "),e("p",[a._v("配置"),e("code",[a._v("etc/hadoop/hadoop-env.sh")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/program/jdk1.8 \n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HDFS_DATANODE_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root  \n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HDFS_NAMENODE_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root  \n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HDFS_SECONDARYNAMENODE_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root \n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[a._v("配置"),e("code",[a._v("etc/hadoop/hdfs-site.xml")])]),a._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.replication"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("3"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指定Hadoop辅助名称节点主机配置--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.namenode.secondary.http-address"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("192.168.100.104:50090"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指定HadoopNameNode的地址--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("dfs.http.address"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n  "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("192.168.100.102:9870"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br")])]),e("h6",{attrs:{id:"_3-yarn配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-yarn配置文件"}},[a._v("#")]),a._v(" （3）YARN配置文件")]),a._v(" "),e("p",[a._v("一般在 shell中输入")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ hadoop  classpath\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("然后 这些输出 直接 粘贴到 yarn 的配置文件里 yarn-site.xml的属性 "),e("name",[a._v("yarn.application.classpath")]),a._v("赋值")],1),a._v(" "),e("p",[a._v("配置"),e("code",[a._v("etc/hadoop/hadoop-env.sh")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("YARN_RESOURCEMANAGER_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("YARN_NODEMANAGER_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("配置"),e("code",[a._v("etc/hadoop/yarn-site.xml")])]),a._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--用于指定执行MapReduce作业的运行时框架。可以是local、classic 或yarn之一 --\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.framework.name"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!-- MR应用程序的类路径 --\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.application.classpath"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("/usr/local/program/hadoop-3.2.1/etc/hadoop:/usr/local/program/hadoop-3.2.1/share/hadoop/common/lib/*:/usr/local/program/hadoop-3.2.1/share/hadoop/common/*:/usr/local/program/hadoop-3.2.1/share/hadoop/hdfs:/usr/local/program/hadoop-3.2.1/share/hadoop/hdfs/lib/*:/usr/local/program/hadoop-3.2.1/share/hadoop/hdfs/*:/usr/local/program/hadoop-3.2.1/share/hadoop/mapreduce/lib/*:/usr/local/program/hadoop-3.2.1/share/hadoop/mapreduce/*:/usr/local/program/hadoop-3.2.1/share/hadoop/yarn:/usr/local/program/hadoop-3.2.1/share/hadoop/yarn/lib/*:/usr/local/program/hadoop-3.2.1/share/hadoop/yarn/*"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指定YARN的ResourceManager的地址--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.resourcemanager.hostname"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("192.168.100.103"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.nodemanager.aux-services"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce_shuffle"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn.nodemanager.aux-services.mapreduce.shuffle.class"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("org.apache.hadoop.mapred.ShuffleHandler"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br"),e("span",{staticClass:"line-number"},[a._v("21")]),e("br"),e("span",{staticClass:"line-number"},[a._v("22")]),e("br"),e("span",{staticClass:"line-number"},[a._v("23")]),e("br"),e("span",{staticClass:"line-number"},[a._v("24")]),e("br"),e("span",{staticClass:"line-number"},[a._v("25")]),e("br"),e("span",{staticClass:"line-number"},[a._v("26")]),e("br")])]),e("h6",{attrs:{id:"_4-mapreduce配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-mapreduce配置文件"}},[a._v("#")]),a._v(" （4）MapReduce配置文件")]),a._v(" "),e("p",[a._v("配置"),e("code",[a._v("etc/hadoop/mapred-site.xml")])]),a._v(" "),e("div",{staticClass:"language-xml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!--指定MR运行在Yarn上--\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.framework.name"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("yarn"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!-- MR应用程序的类路径 --\x3e")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("mapreduce.application.classpath"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("     "),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*:$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("property")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br")])]),e("h5",{attrs:{id:"_3-在集群上分发配置好的hadoop配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-在集群上分发配置好的hadoop配置文件"}},[a._v("#")]),a._v(" 3.在集群上分发配置好的Hadoop配置文件")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ xsync ./etc/hadoop/\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h5",{attrs:{id:"_4-查看文件分发情况"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-查看文件分发情况"}},[a._v("#")]),a._v(" 4.查看文件分发情况")]),a._v(" "),e("h4",{attrs:{id:"集群单点启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集群单点启动"}},[a._v("#")]),a._v(" 集群单点启动")]),a._v(" "),e("p",[a._v("（1）如果集群是第一次启动，需要格式化"),e("code",[a._v("NameNode")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$  bin/hdfs namenode -formart\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("（2）在"),e("code",[a._v("192.168.100.102")]),a._v("上启动"),e("code",[a._v("NameNode")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/hadoop-daemon.sh  start namenode\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("（3）在"),e("code",[a._v("192.168.100.102")]),a._v(","),e("code",[a._v("192.168.100.103")]),a._v("以及"),e("code",[a._v("192.168.100.104")]),a._v("上分别启动"),e("code",[a._v("DataNode")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/hadoop-daemon.sh  start datanode\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("（4）思考：每次都一个一个节点启动，如果节点数增加到1000个怎么办？\n早上来了开始一个一个节点启动，到晚上下班刚好完成，下班？")]),a._v(" "),e("h4",{attrs:{id:"ssh无密登录配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ssh无密登录配置"}},[a._v("#")]),a._v(" SSH无密登录配置")]),a._v(" "),e("h5",{attrs:{id:"_1-配置ssh"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置ssh"}},[a._v("#")]),a._v(" 1.配置ssh")]),a._v(" "),e("p",[a._v("（1）基本语法\nssh另一台电脑的ip地址\n（2）ssh连接时出现Hostkeyverificationfailed的解决方法")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("ssh")]),a._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".1.103\nTheauthenticityofhost"),e("span",{pre:!0,attrs:{class:"token string"}},[a._v("'192.168.1.103(192.168.1.103)'")]),a._v("can't\nbeestablished.\nRSAkeyfingerprintis\ncf:1e:de:d7:d0:4c:2d:98:60:b4:fd:ae:b1:2d:ad:06.\nAreyousureyouwanttocontinueconnecting"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("yes/no"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("?\nHostkeyverificationfailed.\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])]),e("p",[a._v("（3）解决方案如下：直接输入yes")]),a._v(" "),e("h5",{attrs:{id:"_2-无密钥配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-无密钥配置"}},[a._v("#")]),a._v(" 2.无密钥配置")]),a._v(" "),e("p",[a._v("（1）免密登录原理")]),a._v(" "),e("p",[e("img",{attrs:{src:t(652),alt:"image-20200823180537869"}})]),a._v(" "),e("p",[a._v("（2）"),e("code",[a._v("192.168.100.102")]),a._v("生成公钥和私钥：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" /root/.ssh\n$ ssh-keygen -t rsa\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br")])]),e("p",[a._v("然后敲（三个回车），就会生成两个文件id_rsa（私钥）、id_rsa.pub（公钥）")]),a._v(" "),e("p",[a._v("（3）将公钥拷贝到要免密登录的目标机器上")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ ssh-copy-id "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.102\n$ ssh-copy-id "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.103\n$ ssh-copy-id "),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.104\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("p",[a._v("（4）"),e("code",[a._v("192.168.100.103")]),a._v("生成公钥和私钥,进行公钥拷贝到要免密登录的目标机器上")]),a._v(" "),e("h5",{attrs:{id:"_3-ssh文件夹下-ssh-的文件功能解释"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-ssh文件夹下-ssh-的文件功能解释"}},[a._v("#")]),a._v(" 3."),e("code",[a._v(".ssh")]),a._v("文件夹下（~/.ssh）的文件功能解释")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("known_hosts")]),a._v(" "),e("th",[a._v("记录ssh访问过计算机的公钥(publickey)")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("id_rsa")]),a._v(" "),e("td",[a._v("生成的私钥")])]),a._v(" "),e("tr",[e("td",[a._v("id_rsa.pub")]),a._v(" "),e("td",[a._v("生成的公钥")])]),a._v(" "),e("tr",[e("td",[a._v("authorized_keys")]),a._v(" "),e("td",[a._v("存放授权过得无密登录服务器公钥")])])])]),a._v(" "),e("h4",{attrs:{id:"群起集群"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#群起集群"}},[a._v("#")]),a._v(" 群起集群")]),a._v(" "),e("h5",{attrs:{id:"_1-配置etc-hadoop-workers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置etc-hadoop-workers"}},[a._v("#")]),a._v(" 1.配置"),e("code",[a._v("etc/hadoop/workers")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" etc/hadoop/workers \n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("添加以下节点")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.102\n"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.103\n"),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".100.104\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("blockquote",[e("h4",{attrs:{id:"注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意"}},[a._v("#")]),a._v(" 注意：")]),a._v(" "),e("p",[a._v("千万不要有多余的空格")])]),a._v(" "),e("h5",{attrs:{id:"_2-启动集群"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-启动集群"}},[a._v("#")]),a._v(" 2.启动集群")]),a._v(" "),e("h6",{attrs:{id:"_1-如果集群是第一次启动"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-如果集群是第一次启动"}},[a._v("#")]),a._v(" （1）如果集群是第一次启动")]),a._v(" "),e("p",[a._v("需要格式化NameNode（注意格式化之前，一定要先停止上次启动的所有namenode和datanode进程，然后再删除data和log数据）")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs namenode -format\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h6",{attrs:{id:"_2-启动hdfs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-启动hdfs"}},[a._v("#")]),a._v(" （2）启动HDFS")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/start-dfs.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[e("code",[a._v("jps")]),a._v("查看是否启动")]),a._v(" "),e("h6",{attrs:{id:"_3-启动yarn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-启动yarn"}},[a._v("#")]),a._v(" （3）启动"),e("code",[a._v("YARN")])]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/start-yarn.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h6",{attrs:{id:"_3-web端查看secondarynamenode"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-web端查看secondarynamenode"}},[a._v("#")]),a._v(" （3）Web端查看"),e("code",[a._v("SecondaryNameNode")])]),a._v(" "),e("div",{staticClass:"language-http line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[a._v("http:")]),a._v("//192.168.100.102:9870/\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h6",{attrs:{id:"_4-查看文件系统的基本数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-查看文件系统的基本数据"}},[a._v("#")]),a._v(" （4）查看文件系统的基本数据")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs dfsadmin -report\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("blockquote",[e("p",[a._v("注意：")]),a._v(" "),e("p",[a._v("NameNode和ResourceManger如果不是同一台机器，不能在NameNode上启动YARN，应该在ResouceManager所在的机器上启动YARN。")])]),a._v(" "),e("h5",{attrs:{id:"_3-集群基本测试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-集群基本测试"}},[a._v("#")]),a._v(" 3.集群基本测试")]),a._v(" "),e("h6",{attrs:{id:"_1-上传文件到集群"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-上传文件到集群"}},[a._v("#")]),a._v(" （1）上传文件到集群")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ bin/hdfs dfs -put  ./wcinput/wc.input  /user/wry/input\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h6",{attrs:{id:"_2-上传文件后查看文件存放在什么位置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-上传文件后查看文件存放在什么位置"}},[a._v("#")]),a._v(" （2）上传文件后查看文件存放在什么位置")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("/usr/local/program/hadoop-3.2.1/data/tmp/hadoop-root/dfs/data/current/BP-719430212-127.0.0.1-1598525636602/current/finalized/subdir0/subdir0\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h4",{attrs:{id:"集群启动-停止方式总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集群启动-停止方式总结"}},[a._v("#")]),a._v(" 集群启动/停止方式总结")]),a._v(" "),e("h5",{attrs:{id:"_1-各个服务组件逐一启动-停止"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-各个服务组件逐一启动-停止"}},[a._v("#")]),a._v(" 1.各个服务组件逐一启动/停止")]),a._v(" "),e("h6",{attrs:{id:"_1-分别启动-停止hdfs组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-分别启动-停止hdfs组件"}},[a._v("#")]),a._v(" （1）分别启动/停止HDFS组件")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/hadoop-daemon.sh start/stop  namenode/datanode/secondarynamenode\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h6",{attrs:{id:"_2-启动-停止yarn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-启动-停止yarn"}},[a._v("#")]),a._v(" （2）启动/停止YARN")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/yarn-daemon.sh  start/stop  resourcemanager/nodemanager\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h5",{attrs:{id:"_2-各个模块分开启动-停止-配置ssh是前提-常用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-各个模块分开启动-停止-配置ssh是前提-常用"}},[a._v("#")]),a._v(" 2.各个模块分开启动/停止（配置ssh是前提）常用")]),a._v(" "),e("h6",{attrs:{id:"_1-整体启动-停止hdfs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-整体启动-停止hdfs"}},[a._v("#")]),a._v(" （1）整体启动/停止HDFS")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/start-dfs.sh/stop-dfs.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h6",{attrs:{id:"_2-整体启动-停止yarn"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-整体启动-停止yarn"}},[a._v("#")]),a._v(" （2）整体启动/停止YARN")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ sbin/start-yarn.sh/stop-yarn.sh\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"crontab定时任务设置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#crontab定时任务设置"}},[a._v("#")]),a._v(" crontab定时任务设置")]),a._v(" "),e("h4",{attrs:{id:"基本语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本语法"}},[a._v("#")]),a._v(" 基本语法")]),a._v(" "),e("p",[a._v("crontab [选项]")]),a._v(" "),e("h4",{attrs:{id:"选项说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#选项说明"}},[a._v("#")]),a._v(" 选项说明")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("选项")]),a._v(" "),e("th",[a._v("功能")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("-e")]),a._v(" "),e("td",[a._v("编辑crontab 定时任务")])]),a._v(" "),e("tr",[e("td",[a._v("-l")]),a._v(" "),e("td",[a._v("查询crontab任务")])]),a._v(" "),e("tr",[e("td",[a._v("-r")]),a._v(" "),e("td",[a._v("删除当前用户所有的crontab 任务")])])])]),a._v(" "),e("h4",{attrs:{id:"参数说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参数说明"}},[a._v("#")]),a._v(" 参数说明")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("crontab")]),a._v(" -e\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h5",{attrs:{id:"_1-进入crontab编辑界面。会打开vim-编辑你的工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-进入crontab编辑界面。会打开vim-编辑你的工作"}},[a._v("#")]),a._v(" （1）进入crontab编辑界面。会打开vim 编辑你的工作")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("* * * * *  执行的任务\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("table",[e("thead",[e("tr",[e("th",[a._v("项目")]),a._v(" "),e("th",[a._v("含义")]),a._v(" "),e("th",[a._v("范围")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("第一个“*”")]),a._v(" "),e("td",[a._v("一小时当中的第几分钟")]),a._v(" "),e("td",[a._v("0-59")])]),a._v(" "),e("tr",[e("td",[a._v("第二个“*”")]),a._v(" "),e("td",[a._v("一天当中的第几小时")]),a._v(" "),e("td",[a._v("0-23")])]),a._v(" "),e("tr",[e("td",[a._v("第三个“*”")]),a._v(" "),e("td",[a._v("一月当中的第几天")]),a._v(" "),e("td",[a._v("1-31")])]),a._v(" "),e("tr",[e("td",[a._v("第四个“*”")]),a._v(" "),e("td",[a._v("一年当中的第几月")]),a._v(" "),e("td",[a._v("1-12")])]),a._v(" "),e("tr",[e("td",[a._v("第五个“*”")]),a._v(" "),e("td",[a._v("一周当中的星期几")]),a._v(" "),e("td",[a._v("0-7（0和7都代表星期日）")])])])]),a._v(" "),e("h5",{attrs:{id:"_2-特殊符合"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-特殊符合"}},[a._v("#")]),a._v(" （2）特殊符合")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("特殊符合")]),a._v(" "),e("th",[a._v("含义")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("*")]),a._v(" "),e("td",[a._v("代表任何时间。比如第一个“*”，就代表一小时中的每分钟都有执行一次")])]),a._v(" "),e("tr",[e("td",[a._v("，")]),a._v(" "),e("td",[a._v('代表不连需的时间。比如"0 8,12,16 * * *" 命令，就代表在每天的8点0分，12点0分，16点0分都执行一次')])]),a._v(" "),e("tr",[e("td",[a._v("-")]),a._v(" "),e("td",[a._v('代表连续的时间范围。比如"0 5 * * 1-6" ,就代表在周一到周六的凌晨5点0分执行命令')])]),a._v(" "),e("tr",[e("td",[a._v("*/n")]),a._v(" "),e("td",[a._v('代表每个多久执行一次。比如"*/10 * * * *",就代表没10分钟执行一次命令')])])])]),a._v(" "),e("h5",{attrs:{id:"_3-特殊特定时间执行命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-特殊特定时间执行命令"}},[a._v("#")]),a._v(" （3）特殊特定时间执行命令")]),a._v(" "),e("table",[e("thead",[e("tr",[e("th",[a._v("时间")]),a._v(" "),e("th",[a._v("含义")])])]),a._v(" "),e("tbody",[e("tr",[e("td",[a._v("45 22 * * *")]),a._v(" "),e("td",[a._v("在22点45 分执行命令")])]),a._v(" "),e("tr",[e("td",[a._v("0 17 * * 1")]),a._v(" "),e("td",[a._v("每周一的17点0分执行命令")])]),a._v(" "),e("tr",[e("td",[a._v("0 5 1,15 * *")]),a._v(" "),e("td",[a._v("每月1号和15号的凌晨5点0分执行命令")])]),a._v(" "),e("tr",[e("td",[a._v("40 4 * * 1-5")]),a._v(" "),e("td",[a._v("每周一到周五的凌晨4点40 分执行命令")])]),a._v(" "),e("tr",[e("td",[a._v("*/10 4 * * *")]),a._v(" "),e("td",[a._v("每天的凌晨4点，没隔10分钟执行一次命令")])]),a._v(" "),e("tr",[e("td",[a._v("0 0 1,15 * 1")]),a._v(" "),e("td",[a._v("每月1号和15号，每周一的0点0分都会执行命令。注意：星期几和几号最好不要同时出现，因为他们定义的都是天。")])])])]),a._v(" "),e("h5",{attrs:{id:"_4-案例实操"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-案例实操"}},[a._v("#")]),a._v(" （4）案例实操")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("每隔1分钟，向"),e("code",[a._v("/root/bailongma.txt")]),a._v("文件中添加一个11 的数字。")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("*/1 * * * * /bin/echo "),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"11"')]),a._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">>")]),a._v("/root/bailongma.txt\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])])])]),a._v(" "),e("h3",{attrs:{id:"集群时间同步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集群时间同步"}},[a._v("#")]),a._v(" 集群时间同步")]),a._v(" "),e("p",[a._v("时间同步的方式：找一个机器，作为时间服务器，所有的机器与这台集群时间进行定时的同步，比如，每隔十分钟，同步一次时间。")]),a._v(" "),e("p",[e("img",{attrs:{src:t(653),alt:"image-20200829223326519"}})]),a._v(" "),e("h2",{attrs:{id:"linux"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux"}},[a._v("#")]),a._v(" Linux")]),a._v(" "),e("h3",{attrs:{id:"配置静态ip"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置静态ip"}},[a._v("#")]),a._v(" 配置静态IP")]),a._v(" "),e("h4",{attrs:{id:"第一步-修改vmnet配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改vmnet配置"}},[a._v("#")]),a._v(" 第一步：修改VMnet配置")]),a._v(" "),e("p",[a._v("在VMware里，依次点击”编辑“ - ”虚拟网络编辑器“，如下图，我选择的是NAT模式： 以下VMnet2为配置")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://img.jbzj.com/file_images/article/202001/2020011513342421.png",alt:"在这里插入图片描述"}})]),a._v(" "),e("p",[a._v("其中子网ip随便写,子网掩码自己计算,如果不太熟悉就完全配置和我一样就行")]),a._v(" "),e("p",[a._v("A类默认的子网掩码：255.0.0.0\nB类默认的子网掩码：255.255.0.0\nC类默认的子网掩码：255.255.255.0")]),a._v(" "),e("p",[a._v("为了使用静态IP将: 使用本地DHCP服务将IP地址分配给虚拟机 取消(默认是选择状态)")]),a._v(" "),e("p",[a._v("点击NAT设置")]),a._v(" "),e("p",[a._v("将网关ip记住如下图,最后配置虚拟机ip文件所用")]),a._v(" "),e("p",[e("img",{attrs:{src:"https://img.jbzj.com/file_images/article/202001/2020011513342422.png",alt:"Alt"}})]),a._v(" "),e("h4",{attrs:{id:"第二步-进入虚拟机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-进入虚拟机"}},[a._v("#")]),a._v(" 第二步：进入虚拟机")]),a._v(" "),e("p",[a._v("以root权限登陆centos8并编辑vi /etc/sysconfig/network-scripts/ifcfg-ens33这个文件，效果如下：")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TYPE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Ethernet\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("PROXY_METHOD")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("none\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("BROWSER_ONLY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("no\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("BOOTPROTO")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("static "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#注意设置为static静态")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DEFROUTE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV4_FAILURE_FATAL")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("no\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV6INIT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV6_AUTOCONF")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV6_DEFROUTE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV6_FAILURE_FATAL")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("no\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPV6_ADDR_GEN_MODE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("stable-privacy\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NAME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("ens33\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("UUID")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("aa18fb34-fea8-4fff-83a4-1ebed631beff\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DEVICE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("ens33\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ONBOOT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("yes "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#这里如果为no的话就改为yes，表示网卡设备自动启动")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("GATEWAY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.2 "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#这里的网关地址就是上一步获取到的那个网关地址")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("IPADDR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.150 "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#再网关的范围内随意写")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("NETMASK")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("255.255")]),a._v(".255.0 "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#子网掩码")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DNS1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.8")]),a._v(".8.8 "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#DNS1这里用谷歌,")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DNS2")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("223.6")]),a._v(".6.6 "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#DNS2用阿里")]),a._v("\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br"),e("span",{staticClass:"line-number"},[a._v("13")]),e("br"),e("span",{staticClass:"line-number"},[a._v("14")]),e("br"),e("span",{staticClass:"line-number"},[a._v("15")]),e("br"),e("span",{staticClass:"line-number"},[a._v("16")]),e("br"),e("span",{staticClass:"line-number"},[a._v("17")]),e("br"),e("span",{staticClass:"line-number"},[a._v("18")]),e("br"),e("span",{staticClass:"line-number"},[a._v("19")]),e("br"),e("span",{staticClass:"line-number"},[a._v("20")]),e("br")])]),e("p",[a._v("然后 :wq保存退出")]),a._v(" "),e("h4",{attrs:{id:"第三步-刷新网卡配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步-刷新网卡配置"}},[a._v("#")]),a._v(" 第三步: 刷新网卡配置")]),a._v(" "),e("p",[a._v("CentOS 8 使用 : nmcli c reload")]),a._v(" "),e("p",[a._v("CentOS7 使用 /etc/init.d/network restart")]),a._v(" "),e("p",[a._v("如果不能上网直接使用"),e("code",[a._v("reboot")]),a._v(" 命令重启")]),a._v(" "),e("h3",{attrs:{id:"关闭防火墙"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关闭防火墙"}},[a._v("#")]),a._v(" 关闭防火墙")]),a._v(" "),e("p",[a._v("centos8")]),a._v(" "),e("h4",{attrs:{id:"永久关闭防火墙"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#永久关闭防火墙"}},[a._v("#")]),a._v(" 永久关闭防火墙")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ systemctl disable firewalld\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h4",{attrs:{id:"查看防火墙"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看防火墙"}},[a._v("#")]),a._v(" 查看防火墙")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ systemctl status firewalld.service\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h4",{attrs:{id:"停止防火墙"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止防火墙"}},[a._v("#")]),a._v(" 停止防火墙")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ systemctl stop firewalld.service\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h4",{attrs:{id:"启用防火墙"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启用防火墙"}},[a._v("#")]),a._v(" 启用防火墙")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ systemctl start firewalld.service\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"配置jdk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置jdk"}},[a._v("#")]),a._v(" 配置JDK")]),a._v(" "),e("h4",{attrs:{id:"第一步-解压"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-解压"}},[a._v("#")]),a._v(" 第一步：解压")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxvf /usr/local/software/jdk1.8.231 -C /usr/local/program/\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h4",{attrs:{id:"第二步-配置环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-配置环境变量"}},[a._v("#")]),a._v(" 第二步：配置环境变量")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/profile\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("在最后添加java 环境配置")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JAVA_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/program/jdk1.8.231\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("CLASS_PATH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(".:"),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$JAVA_HOME")]),a._v("/lib.tools.jar\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$JAVA_HOME")]),a._v("/bin\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br")])]),e("h4",{attrs:{id:"第三步-使配置生效"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第三步-使配置生效"}},[a._v("#")]),a._v(" 第三步：使配置生效")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /etc/profile\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h3",{attrs:{id:"配置ssh连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置ssh连接"}},[a._v("#")]),a._v(" 配置SSH连接")]),a._v(" "),e("h4",{attrs:{id:"第一步-修改配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改配置"}},[a._v("#")]),a._v(" 第一步：修改配置")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/ssh/sshd_config\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("p",[a._v("打开 注释修改以下配置")]),a._v(" "),e("p",[a._v("ClientAliveInterval 60")]),a._v(" "),e("p",[a._v("表示每分钟发送一次, 然后客户端响应, 这样就保持长连接了")]),a._v(" "),e("p",[a._v("ClientAliveCountMax 3")]),a._v(" "),e("p",[a._v("ClientAliveCountMax表示服务器发出请求后客户端没有响应的次数达到一定值, 就自动断开")]),a._v(" "),e("h4",{attrs:{id:"第二步-重启服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二步-重启服务"}},[a._v("#")]),a._v(" 第二步：重启服务")]),a._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[a._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("service")]),a._v(" sshd restart\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" -zxvf /usr/local/software/hadoop-3.2.1.tar.gz  -C /usr/local/program/\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("vim")]),a._v(" /etc/profile\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#hadoop 环境")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HADOOP_HOME")]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("/usr/local/program/hadoop-3.2.1\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HADOOP_HOME")]),a._v("/bin\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[a._v("$PATH")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HADOOP_HOME")]),a._v("/sbin\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /etc/profile\n\nhadoop version\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br"),e("span",{staticClass:"line-number"},[a._v("8")]),e("br"),e("span",{staticClass:"line-number"},[a._v("9")]),e("br"),e("span",{staticClass:"line-number"},[a._v("10")]),e("br"),e("span",{staticClass:"line-number"},[a._v("11")]),e("br"),e("span",{staticClass:"line-number"},[a._v("12")]),e("br")])])])}),[],!1,null,null,null);s.default=n.exports}}]);