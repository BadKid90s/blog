(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{780:function(s,a,e){"use strict";e.r(a);var t=e(5),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("h3",{attrs:{id:"_1-查看系统、内核"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看系统、内核"}},[s._v("#")]),s._v(" 1.查看系统、内核")]),s._v(" "),e("p",[s._v("CentOS7 要求64位系统、内核版本3.10以上\nCentOS6 要求版本在6.5以上，系统64位、内核版本2.6.32-431以上\n查看内核版本号")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -r "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看内核版本")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/os-release "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看系统信息.")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("开启centos-extras资源库\n使用Centos 7，开启centos-extras资源库")]),s._v(" "),e("h3",{attrs:{id:"_2-卸载旧版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-卸载旧版本"}},[s._v("#")]),s._v(" 2.卸载旧版本")]),s._v(" "),e("p",[s._v("卸载旧版本")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum remove docker "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-client "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-client-latest "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-common "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-latest "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-latest-logrotate "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-logrotate "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n                  docker-engine\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("删除旧版本Docker文件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /var/lib/docker/ -rf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_3-设置仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-设置仓库"}},[s._v("#")]),s._v(" 3.设置仓库")]),s._v(" "),e("h4",{attrs:{id:"设置yum仓库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置yum仓库"}},[s._v("#")]),s._v(" 设置yum仓库")]),s._v(" "),e("p",[s._v("安装必要依赖包")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y yum-utils "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  device-mapper-persistent-data "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  lvm2\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("添加阿里镜像稳定版仓库")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("添加阿里源时有时会报错，如果报错，使用如下命令使用官方源")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除异常源")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -f /etc/yum.repos.d/docker-ce.repo\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用官方源")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h4",{attrs:{id:"更新yum缓存"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更新yum缓存"}},[s._v("#")]),s._v(" 更新yum缓存")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum makecache fast\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_4-安装docker-ce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-安装docker-ce"}},[s._v("#")]),s._v(" 4.安装Docker-CE")]),s._v(" "),e("p",[s._v("注意事项：本步骤分两部分，仅需按需求使用其一")]),s._v(" "),e("h4",{attrs:{id:"安装最新版"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装最新版"}},[s._v("#")]),s._v(" 安装最新版")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y docker-ce docker-ce-cli containerd.io\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"安装指定版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装指定版本"}},[s._v("#")]),s._v(" 安装指定版本")]),s._v(" "),e("p",[s._v("列出可用版本")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("yum list docker-ce --showduplicates "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -r\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示结果")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker-ce.x86_64  3:18.09.1-3.el7                     docker-ce-stable")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker-ce.x86_64  3:18.09.0-3.el7                     docker-ce-stable")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker-ce.x86_64  18.06.1.ce-3.el7                    docker-ce-stable")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker-ce.x86_64  18.06.0.ce-3.el7                    docker-ce-stable")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("安装指定版本\n需要替换为第二列的版本号，如：18.06.0.ce-3.el7")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-ce-"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("VERSION_STRING"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" docker-ce-cli-"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("VERSION_STRING"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" containerd.io\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"设置镜像代理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置镜像代理"}},[s._v("#")]),s._v(" 设置"),e("strong",[s._v("镜像代理")])]),s._v(" "),e("p",[e("strong",[s._v("阿里Docker镜像云服务")]),s._v(" "),e("a",{attrs:{href:"https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors"),e("OutboundLink")],1)]),s._v(" "),e("h2",{attrs:{id:"运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[s._v("#")]),s._v(" 运行")]),s._v(" "),e("h3",{attrs:{id:"启动docker服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动docker服务"}},[s._v("#")]),s._v(" 启动Docker服务")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("systemctl start docker\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"运行镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行镜像"}},[s._v("#")]),s._v(" 运行镜像")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker run  hello-world\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"查看本地的镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看本地的镜像"}},[s._v("#")]),s._v(" 查看本地的镜像")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker images\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2022/png/21973095/1672381927401-6e68e3d2-847d-42e8-aeba-d5aec4ca9a9c.png#averageHue=%23262a2c&id=xsf1S&originHeight=77&originWidth=821&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=",alt:""}})]),s._v(" "),e("ul",[e("li",[s._v("REPOSITORY:表示 镜像的仓库源")]),s._v(" "),e("li",[s._v("TAG: 表示镜像的版本标签 （:版本号）")]),s._v(" "),e("li",[s._v("IMAGE ID :镜像ID")]),s._v(" "),e("li",[s._v("CREATED :镜像创建的时间")]),s._v(" "),e("li",[s._v("SIZE: 镜像的大小")])]),s._v(" "),e("h3",{attrs:{id:"所有本地镜像包含中间镜像层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#所有本地镜像包含中间镜像层"}},[s._v("#")]),s._v(" 所有本地镜像包含中间镜像层")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker images -a\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"只显示镜像的id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#只显示镜像的id"}},[s._v("#")]),s._v(" 只显示镜像的ID")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker images -q\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"显示当前镜像的id"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#显示当前镜像的id"}},[s._v("#")]),s._v(" 显示当前镜像的ID")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker images -qa\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"显示镜像的描述信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#显示镜像的描述信息"}},[s._v("#")]),s._v(" 显示镜像的描述信息")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker images --digests\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"显示完整的镜像信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#显示完整的镜像信息"}},[s._v("#")]),s._v(" 显示完整的镜像信息")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker images --digests --no-trunc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"查找镜像命名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查找镜像命名"}},[s._v("#")]),s._v(" 查找镜像命名")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker search 镜像名称\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"找start大于30的tomca"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#找start大于30的tomca"}},[s._v("#")]),s._v(" 找Start大于30的tomca")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker search -s "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" tomcat\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"下载镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#下载镜像"}},[s._v("#")]),s._v(" 下载镜像")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker pull 镜像名称:latest   \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"删除镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[s._v("#")]),s._v(" 删除镜像")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker rmi 镜像名称\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"强制删除"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#强制删除"}},[s._v("#")]),s._v(" 强制删除")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker rmi -f 镜像名称\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"删除多个镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除多个镜像"}},[s._v("#")]),s._v(" 删除多个镜像")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker rmi  镜像名称 :TAG  镜像名称2:TAG\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"删除全部镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除全部镜像"}},[s._v("#")]),s._v(" 删除全部镜像")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker rmi -f "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker images -q"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"创建一个新的容器并运行一个命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建一个新的容器并运行一个命令"}},[s._v("#")]),s._v(" 创建一个新的容器并运行一个命令")]),s._v(" "),e("h4",{attrs:{id:"基本语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本语法"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker run "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" IMAGE "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("COMMAND"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ARG"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"options说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#options说明"}},[s._v("#")]),s._v(" OPTIONS说明")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("-a stdin:")]),s._v(" 指定标准输入输出内容类型，可选 STDIN/STDOUT/STDERR 三项；")]),s._v(" "),e("li",[e("strong",[s._v("-d:")]),s._v(" 后台运行容器，并返回容器ID；")]),s._v(" "),e("li",[e("strong",[s._v("-i:")]),s._v(" 以交互模式运行容器，通常与 -t 同时使用；")]),s._v(" "),e("li",[e("strong",[s._v("-t:")]),s._v(" 为容器重新分配一个伪输入终端，通常与 -i 同时使用；")]),s._v(" "),e("li",[e("strong",[s._v("-P:")]),s._v(" 随机端口映射，容器内部端口"),e("strong",[s._v("随机")]),s._v("映射到主机的高端口")]),s._v(" "),e("li",[e("strong",[s._v("-p:")]),s._v(" 指定端口映射，格式为："),e("strong",[s._v("主机(宿主)端口:容器端口")])]),s._v(" "),e("li",[e("strong",[s._v('--name="nginx-lb":')]),s._v(" 为容器指定一个名称；")]),s._v(" "),e("li",[e("strong",[s._v("--dns 8.8.8.8:")]),s._v(" 指定容器使用的DNS服务器，默认和宿主一致；")]),s._v(" "),e("li",[e("strong",[s._v("--dns-search example.com:")]),s._v(" 指定容器DNS搜索域名，默认和宿主一致；")]),s._v(" "),e("li",[e("strong",[s._v('-h "mars":')]),s._v(" 指定容器的hostname；")]),s._v(" "),e("li",[e("strong",[s._v('-e username="ritchie":')]),s._v(" 设置环境变量；")]),s._v(" "),e("li",[e("strong",[s._v("--env-file=[]:")]),s._v(" 从指定文件读入环境变量；")]),s._v(" "),e("li",[e("strong",[s._v('--cpuset="0-2" or --cpuset="0,1,2":')]),s._v(" 绑定容器到指定CPU运行；")]),s._v(" "),e("li",[s._v("**-m 😗*设置容器使用内存最大值；")]),s._v(" "),e("li",[e("strong",[s._v('--net="bridge":')]),s._v(" 指定容器的网络连接类型，支持 bridge/host/none/container: 四种类型；")]),s._v(" "),e("li",[e("strong",[s._v("--link=[]:")]),s._v(" 添加链接到另一个容器；")]),s._v(" "),e("li",[e("strong",[s._v("--expose=[]:")]),s._v(" 开放一个端口或一组端口；")]),s._v(" "),e("li",[s._v("**--volume , -v: **绑定一个卷")])]),s._v(" "),e("h4",{attrs:{id:"测试用例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#测试用例"}},[s._v("#")]),s._v(" 测试用例")]),s._v(" "),e("p",[s._v("使用docker镜像nginx:latest以后台模式启动一个容器,并将容器命名为mynginx。\n"),e("code",[s._v("docker run --name mynginx -d nginx:latest")]),s._v("\n使用镜像nginx:latest以后台模式启动一个容器,并将容器的80端口映射到主机随机端口。\n"),e("code",[s._v("docker run -P -d nginx:latest")]),s._v("\n使用镜像 nginx:latest，以后台模式启动一个容器,将容器的 80 端口映射到主机的 80 端口,主机的目录 /data 映射到容器的 /data。\n"),e("code",[s._v("docker run -p 80:80 -v /data:/data -d nginx:latest")]),s._v("\n绑定容器的 8080 端口，并将其映射到本地主机 127.0.0.1 的 80 端口上。\n"),e("code",[s._v("$docker run -p 127.0.0.1:80:8080/tcp ubuntu bash")]),s._v("\n使用镜像nginx:latest以交互模式启动一**-n:** 显示最近N个容器；个容器,在容器内执行/bin/bash命令。\n"),e("code",[s._v("docker run -it nginx:latest /bin/bash")])]),s._v(" "),e("h3",{attrs:{id:"查看正在运行的容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看正在运行的容器"}},[s._v("#")]),s._v(" 查看正在运行的容器")]),s._v(" "),e("h4",{attrs:{id:"基本语法-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#基本语法-2"}},[s._v("#")]),s._v(" 基本语法")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"options说明-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#options说明-2"}},[s._v("#")]),s._v(" OPTIONS说明：")]),s._v(" "),e("ul",[e("li",[s._v("**-a 😗*当前正在运行的+历史运行过的；")]),s._v(" "),e("li",[e("strong",[s._v("-l:")]),s._v(" 最近创建的容器ID；")]),s._v(" "),e("li",[e("strong",[s._v("-n:")]),s._v(" 显示最近N个容器；")]),s._v(" "),e("li",[e("strong",[s._v("-q:")]),s._v(" 静默模式，只显示容器Id")]),s._v(" "),e("li",[s._v("-"),e("strong",[s._v("-no -trunc")]),s._v("；不断输出")])]),s._v(" "),e("h4",{attrs:{id:"退出容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#退出容器"}},[s._v("#")]),s._v(" 退出容器")]),s._v(" "),e("p",[e("code",[s._v("exit")]),s._v(" 容器停止推出\n"),e("code",[s._v("ctrl+P+Q")]),s._v("容器不停止退出")]),s._v(" "),e("h4",{attrs:{id:"启动容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动容器"}},[s._v("#")]),s._v(" 启动容器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker start 容器名称或ID\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"重启容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重启容器"}},[s._v("#")]),s._v(" 重启容器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker restart 容器名称或ID\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"停止容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止容器"}},[s._v("#")]),s._v(" 停止容器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker stop 容器名称或ID   （温柔）\n\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" 容器名称或ID   （强制停止）\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h4",{attrs:{id:"删除容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除容器"}},[s._v("#")]),s._v(" 删除容器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 容器名称或ID\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"一次性删除多个容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一次性删除多个容器"}},[s._v("#")]),s._v(" 一次性删除多个容器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("  -f "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a -q"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或")]),s._v("\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a -q"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("xagrgs docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("查看容器内部的细节")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker inspect 容器ID或容器名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"查看容器的ip地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看容器的ip地址"}},[s._v("#")]),s._v(" 查看容器的IP地址")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker inspect 容器ID或容器名 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"IPAddress"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"连接运行的容器并以命令行交互"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#连接运行的容器并以命令行交互"}},[s._v("#")]),s._v(" 连接运行的容器并以命令行交互")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it 容器ID bashShell"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("shell命令"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h4",{attrs:{id:"重新进入容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#重新进入容器"}},[s._v("#")]),s._v(" 重新进入容器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker attach 容器ID\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("exec与 attach的区别")])]),s._v(" "),e("ul",[e("li",[s._v("attach :直接进入容器，启动命令终端，不会启动新的进程")]),s._v(" "),e("li",[s._v("exec：实在容器中打开新的终端，并且可以启动新的")])])])}),[],!1,null,null,null);a.default=r.exports}}]);