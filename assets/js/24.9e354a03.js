(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{682:function(t,e,a){t.exports=a.p+"assets/img/image-20211223160811039.a48cc7a3.png"},791:function(t,e,a){"use strict";a.r(e);var v=a(5),r=Object(v.a)({},(function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"为什么要制造-netty"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#为什么要制造-netty"}},[t._v("#")]),t._v(" 为什么要制造 Netty")]),t._v(" "),v("h2",{attrs:{id:"javanio有缺点"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#javanio有缺点"}},[t._v("#")]),t._v(" JavaNIO有缺点")]),t._v(" "),v("p",[t._v("既然 Java 提供了 NIO，为什么还要制造一个 Netty，主要原因是 Java NIO 有以下几个缺点：")]),t._v(" "),v("ol",[v("li",[t._v("Java NIO 的类库和 API 庞大繁杂，使用起来很麻烦，开发工作量大。")]),t._v(" "),v("li",[t._v("使用 Java NIO，程序员需要具备高超的 Java 多线程编码技能，以及非常熟悉网络编程，比如要处理断连重连、网络闪断、半包读写、失败缓存、网络拥塞和异常流处理等一系列棘手的工作。")]),t._v(" "),v("li",[t._v("Java NIO 存在 Bug，例如 Epoll Bug 会导致 Selector 空轮训，极大耗费 CPU 资源。")])]),t._v(" "),v("h2",{attrs:{id:"netty-解决方案"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#netty-解决方案"}},[t._v("#")]),t._v(" Netty 解决方案")]),t._v(" "),v("p",[t._v("Netty 对于 JDK 自带的 NIO 的 API 进行了封装，解决了上述问题，提高了 IO 程序的开发效率和可靠性，同时 Netty：")]),t._v(" "),v("ol",[v("li",[t._v("设计优雅，提供阻塞和非阻塞的 Socket；提供灵活可拓展的事件模型；提供高度可定制的线程模型。")]),t._v(" "),v("li",[t._v("具备更高的性能和更大的吞吐量，使用零拷贝技术最小化不必要的内存复制，减少资源的消耗。")]),t._v(" "),v("li",[t._v("提供安全传输特性。")]),t._v(" "),v("li",[t._v("支持多种主流协议；预置多种编解码功能，支持用户开发私有协议。")])]),t._v(" "),v("blockquote",[v("p",[t._v("注：所谓支持 TCP、UDP、HTTP、WebSocket 等协议，就是说 Netty 提供了相关的编程类和接口，因此本文后面主要对基于 Netty 的 TCP Server/Client 开发案例进行讲解，以展示 Netty 的核心原理，对于其他协议 Server/Client 开发不再给出示例，帮助读者提升内力而非教授花招是我写作的出发点 。")])]),t._v(" "),v("h2",{attrs:{id:"netty-架构图"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#netty-架构图"}},[t._v("#")]),t._v(" Netty 架构图")]),t._v(" "),v("p",[t._v("Netty 官网给出的 Netty 架构图："),v("img",{attrs:{src:a(682),alt:"image-20211223160811039"}})]),t._v(" "),v("p",[t._v("我们从其中的几个关键词就能看出 Netty 的强大之处：零拷贝、可拓展事件模型；支持 TCP、UDP、HTTP、WebSocket 等协议；提供安全传输、压缩、大文件传输、编解码支持等等。")])])}),[],!1,null,null,null);e.default=r.exports}}]);